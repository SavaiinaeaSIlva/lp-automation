<!DOCTYPE html>
<html class="scroll-smooth" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Secure Payment - Silva Automation</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .font-display { font-family: 'IBM Plex Mono', monospace; }
    #package-select { background-color: #262626; }
    #package-select option { background-color: #262626; color: #e5e7eb; }
    .step-circle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        border-radius: 9999px;
        background-color: #3b82f6;
        color: white;
        font-weight: 700;
        font-family: 'IBM Plex Mono', monospace;
        margin-right: 0.75rem;
    }
  </style>
</head>  
<body class="antialiased bg-black text-gray-300">

<header class="fixed top-0 left-0 right-0 z-50">
   <div class="container mx-auto px-6 py-4">
    <a aria-label="Silva Automation Home" href="index.html">
        <img alt="Silva Automation Logo" class="h-10 md:h-12 w-auto" src="assets/images/silvas.svg"/>
    </a>
   </div>
</header>

<main class="pt-32 pb-20 min-h-screen flex items-center justify-center">
  <section class="w-full max-w-lg mx-auto p-4">
    
    <div class="text-center mb-10">
      <h1 class="text-3xl md:text-4xl font-bold font-display text-white">Secure Project Payment</h1>
      <p class="text-gray-400 mt-3">Complete your project deposit in three simple steps.</p>
    </div>

    <div class="space-y-6 bg-neutral-900 border border-neutral-800 rounded-lg p-6 md:p-8">
      
      <div>
        <div class="flex items-center mb-4">
            <div class="step-circle">1</div>
            <h2 class="text-xl font-bold text-white">Select Your Package</h2>
        </div>
        <select id="package-select" class="w-full bg-neutral-800 border border-neutral-700 text-white rounded-md p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none transition duration-200">
          <option value="" data-amount="0" data-name="None">-- Please choose an option --</option>
          <option value="starter" data-amount="475.00" data-name="Starter Package">Starter Package - $475 Deposit</option>
          <option value="standard" data-amount="1225.00" data-name="Standard Package">Standard Package - $1,225 Deposit</option>
        </select>
      </div>

      <hr class="border-neutral-700/50">

      <div id="order-summary" class="hidden">
        <div class="flex items-center mb-4">
            <div class="step-circle">2</div>
            <h2 class="text-xl font-bold text-white">Order Summary</h2>
        </div>
        <div class="bg-neutral-800 rounded-lg p-4 space-y-3 text-sm">
            <div class="flex justify-between items-center text-gray-400">
                <span>Package</span>
                <span id="summary-package-name" class="text-white font-semibold">--</span>
            </div>
            <div class="flex justify-between items-center text-gray-400">
                <span>Deposit Amount</span>
                <span id="summary-deposit-amount" class="text-white font-semibold">$0.00</span>
            </div>
        </div>
      </div>
      
      <div id="step-3" class="transition-opacity duration-300 opacity-40 pointer-events-none">
        <div class="flex items-center mb-4">
            <div class="step-circle">3</div>
            <h2 class="text-xl font-bold text-white">Agree & Pay</h2>
        </div>
        <label for="terms-checkbox" class="flex items-start space-x-3 cursor-pointer p-4 bg-neutral-800/50 rounded-lg mb-6">
          <input type="checkbox" id="terms-checkbox" class="mt-1 h-4 w-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500">
          <span class="text-sm text-gray-400">
            I have read and agree to the 
            <a href="terms.html" target="_blank" class="text-blue-400 hover:underline font-medium">Terms and Conditions</a>.
          </span>
        </label>
        
        <div id="payment-buttons-container" class="space-y-4 transition-opacity duration-300 opacity-40 pointer-events-none">
            <button id="stripe-button" class="w-full text-center block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-md transition-colors">
                Proceed to Payment
            </button>
        </div>
      </div>
    </div>

    <div class="text-center text-sm text-gray-500 mt-8">
      Securely processed by Stripe.
    </div>
  </section>
</main>

<footer class="bg-neutral-900 border-t border-neutral-800 text-neutral-400">
   <div class="container mx-auto px-6 py-8">
    <div class="text-center text-sm">
     <p class="text-xs text-neutral-500 mb-2">Â© <span id="current-year"></span> Silva Automation</p>
     <div class="space-x-4 text-xs">
        <a href="terms.html" class="hover:text-blue-400">Terms & Conditions</a>
        <span>&bull;</span>
        <a href="privacy.html" class="hover:text-blue-400">Privacy Policy</a>
     </div>
    </div>
   </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- Element Selections ---
    const packageSelect = document.getElementById('package-select');
    const termsCheckbox = document.getElementById('terms-checkbox');
    
    const orderSummary = document.getElementById('order-summary');
    const summaryPackageName = document.getElementById('summary-package-name');
    const summaryDepositAmount = document.getElementById('summary-deposit-amount');
    
    const step3 = document.getElementById('step-3');
    const paymentButtonsContainer = document.getElementById('payment-buttons-container');
    const stripeButton = document.getElementById('stripe-button');

    // --- Payment Data ---
    const stripeLinks = {
        starter: 'https://buy.stripe.com/14A4gA04O85N87meeuaEE03',
        standard: 'https://buy.stripe.com/5kQaEY04O3Px2N2c6maEE04'
    };

    // --- UI Update Function ---
    function updatePaymentUI() {
        const selectedOption = packageSelect.options[packageSelect.selectedIndex];
        const selectedPackage = selectedOption.value;
        const termsAgreed = termsCheckbox.checked;

        if (selectedPackage) {
            summaryPackageName.textContent = selectedOption.dataset.name;
            summaryDepositAmount.textContent = `$${selectedOption.dataset.amount}`;
            orderSummary.classList.remove('hidden');
            step3.classList.remove('opacity-40', 'pointer-events-none');
        } else {
            orderSummary.classList.add('hidden');
            step3.classList.add('opacity-40', 'pointer-events-none');
            termsCheckbox.checked = false;
        }
        
        if (selectedPackage && termsAgreed) {
            paymentButtonsContainer.classList.remove('opacity-40', 'pointer-events-none');
        } else {
            paymentButtonsContainer.classList.add('opacity-40', 'pointer-events-none');
        }
    }

    // --- Event Listeners ---
    packageSelect.addEventListener('change', updatePaymentUI);
    termsCheckbox.addEventListener('change', updatePaymentUI);

    stripeButton.addEventListener('click', function() {
        const selectedPackage = packageSelect.value;
        if (selectedPackage && stripeLinks[selectedPackage] && termsCheckbox.checked) {
            window.location.href = stripeLinks[selectedPackage];
        }
    });

    // --- Initial Setup ---
    const currentYearSpan = document.getElementById('current-year');
    if (currentYearSpan) {
        currentYearSpan.textContent = new Date().getFullYear();
    }
});
</script>

</body>
</html>
